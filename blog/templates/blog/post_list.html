{% load static %}
<html>
    <head>
        <title>
            First Blog Test
        </title>
    </head>
    <body>
        <h3>
            The Coops Holiday Update
        </h3>
        <div id="allImages">
            {% for post in posts %}
            <div class="ss">
            <p>
                <!-- OK <img src="/static/{{post.picture.url}}"> -->
                <img src="/static/{{post.picture.url}}"
                    style="width:600px; height:500px">
            </p>
            <!-- <p>
                published: {{ post.published_date }}
            </p> -->
            <h2>
                <a ref="">{{ post.title }} </a>
            </h2>
            <p>
                {{ post.description|linebreaksbr }}
            </p>

            </div>
            {% endfor %}
        </div>
        <div id="output">
            <!-- OK <img src="{% static 'SVWNetColors.png' %}" alt="SVNet Image"> -->
        </div>
    </body>
    <script>
        console.log("Here is some javascript...");
        document.getElementById("allImages").style.display = "none";
        let slides = document.getElementsByClassName("ss");
       (function slideLoop (i) {
            let element = document.getElementById("output");
            element.innerHTML = slides[i-1].outerHTML;
            // element.style.display = "block"; //"none";
            unfade(element);
            setTimeout(() => {
                fade(element);
                // element.style.display = "none";
                setTimeout(() => {
                    // decrement i and call myLoop again if i > 0
                    if (--i) slideLoop(i);
                }, 2000);
            }, 3000);

       })(slides.length);

    function fade(element) {
    var op = 1;  // initial opacity
    var timer = setInterval(function () {
        if (op <= 0.1){
            clearInterval(timer);
            element.style.display = 'none';
        }
        element.style.opacity = op;
        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
        op -= op * 0.1;
    }, 50);
    }

    function unfade(element) {
    var op = 0.1;  // initial opacity
    element.style.display = 'block';
    var timer = setInterval(function () {
        if (op >= 1){
            clearInterval(timer);
        }
        element.style.opacity = op;
        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
        op += op * 0.1;
    }, 10);
    }
    </script>
</html>